@import 'remark-github-blockquote-alert/alert.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-display: 'Playfair Display', 'Times New Roman', serif;
    --font-body: 'Zen Kaku Gothic New', 'Hiragino Sans', 'Yu Gothic', sans-serif;
    
    /* Light Mode - Warm & Sophisticated */
    --bg-canvas: 252 251 247;
    --text-main: 15 23 42;
    --text-muted: 71 85 105;
    --surface: 255 255 255;
    --surface-2: 241 245 249;
    --line: 226 232 240;
    --accent: 14 165 233; /* brand-500 */
    --accent-soft: 224 242 254; /* brand-100 */
    --shadow-color: 0 0 0;
  }

  html.dark {
    /* Dark Mode - Deep & Elegant */
    --bg-canvas: 10 15 25;
    --text-main: 241 245 249;
    --text-muted: 148 163 184;
    --surface: 17 24 39;
    --surface-2: 31 41 55;
    --line: 31 41 55;
    --accent: 56 189 248; /* brand-400 */
    --accent-soft: 12 74 110; /* brand-900 */
    --shadow-color: 0 0 0;
  }

  html {
    scroll-behavior: smooth;
    background-color: rgb(var(--bg-canvas));
  }

  body {
    @apply antialiased selection:bg-brand-200 selection:text-brand-900 dark:selection:bg-brand-800 dark:selection:text-brand-100;
    font-family: var(--font-body);
    color: rgb(var(--text-main));
    line-height: 1.6;
    min-height: 100vh;
    background-image: 
      radial-gradient(circle at 0% 0%, rgba(var(--accent), 0.05) 0%, transparent 40%),
      radial-gradient(circle at 100% 100%, rgba(34, 197, 94, 0.05) 0%, transparent 40%);
    background-attachment: fixed;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 700;
    letter-spacing: -0.01em;
  }

  a {
    @apply transition-all duration-200;
  }
}

@layer components {
  .site-shell {
    @apply min-h-screen flex flex-col;
  }

  .content-container {
    @apply mx-auto w-full px-4 sm:px-6 lg:px-10;
    max-width: min(1800px, 96vw);
  }

  .card-surface {
    background: rgb(var(--surface));
    border: 1px solid rgb(var(--line));
    @apply rounded-3xl transition-all duration-300;
    box-shadow: 0 4px 6px -1px rgba(var(--shadow-color), 0.05), 0 2px 4px -1px rgba(var(--shadow-color), 0.03);
  }

  .card-surface:hover {
    @apply translate-y-[-4px];
    box-shadow: 0 20px 25px -5px rgba(var(--shadow-color), 0.1), 0 10px 10px -5px rgba(var(--shadow-color), 0.04);
    border-color: rgba(var(--accent), 0.3);
  }

  .nav-link {
    @apply relative py-1 text-sm font-medium tracking-wide transition-colors;
    color: rgb(var(--text-muted));
  }

  .nav-link:hover {
    color: rgb(var(--text-main));
  }

  .nav-link::after {
    content: '';
    @apply absolute bottom-0 left-0 h-[2px] w-0 bg-brand-500 transition-all duration-300;
  }

  .nav-link:hover::after,
  .nav-link[aria-current='page']::after {
    @apply w-full;
  }

  .nav-link[aria-current='page'] {
    @apply text-brand-600 dark:text-brand-400 font-semibold;
  }

  .chip {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold transition-all;
    border: 1px solid rgb(var(--line));
    background: rgb(var(--surface-2));
    color: rgb(var(--text-muted));
  }

  .chip:hover {
    @apply border-brand-300 text-brand-600;
    background: rgb(var(--accent-soft));
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-2xl px-6 py-3 text-sm font-bold text-white transition-all active:scale-95;
    background: rgb(var(--accent));
    box-shadow: 0 10px 15px -3px rgba(var(--accent), 0.3);
  }

  .btn-primary:hover {
    @apply brightness-110;
    box-shadow: 0 20px 25px -5px rgba(var(--accent), 0.4);
  }

  .btn-outline {
    @apply inline-flex items-center justify-center rounded-2xl px-6 py-3 text-sm font-bold transition-all active:scale-95;
    border: 2px solid rgb(var(--line));
    background: transparent;
  }

  .btn-outline:hover {
    @apply border-brand-500 text-brand-600;
    background: rgb(var(--accent-soft));
  }

  .prose {
    @apply text-slate-700 dark:text-slate-300;
    max-width: 74ch;
  }

  .prose pre {
    @apply rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm;
  }

  .prose h2 {
    @apply mt-12 mb-6 border-b pb-2 border-slate-100 dark:border-slate-800;
  }

  .markdown-alert {
    @apply my-6 rounded-2xl border-l-8 p-4 shadow-sm !important;
  }
}

/* Custom Utilities */
@layer utilities {
  .glass-header {
    @apply sticky top-0 z-50 border-b backdrop-blur-md;
    border-color: rgba(var(--line), 0.5);
    background: rgba(var(--bg-canvas), 0.8);
  }
  
  .text-balance {
    text-wrap: balance;
  }

  .animate-delay-100 { animation-delay: 100ms; }
  .animate-delay-200 { animation-delay: 200ms; }
  .animate-delay-300 { animation-delay: 300ms; }
}
